# Expense Tracker API

Expense Tracker API is a backend service designed to record, manage, and analyze users' financial transactions, including **income** and **expenses**, in a structured and scalable way. This project is built with a clean architecture approach and follows modern backend best practices using **Golang**.

---

## ğŸš€ Key Features

* ğŸ” User authentication & authorization (JWT)
* ğŸ‘¤ User management
* ğŸ—‚ï¸ Transaction category management (income & expense)
* ğŸ’¸ Financial transaction recording
* ğŸ“Š Monthly financial summary
* ğŸ§® Income & expense aggregation per month
* ğŸ—ï¸ Clean Architecture (Handler â†’ Service â†’ Repository)

---

## ğŸ› ï¸ Tech Stack

* **Language**: Go (Golang)
* **HTTP Framework**: net/http
* **Database**: PostgreSQL
* **SQL Generator**: sqlc
* **Migration Tool**: golang-migrate
* **Authentication**: JWT
* **UUID Handling**: pgx / pgtype
* **Containerization**: Docker (optional)

---

## ğŸ“ Project Structure

```
.
â”œâ”€â”€ cmd/                # Application entry point
â”œâ”€â”€ internal/
â”‚   â”œâ”€â”€ handler/        # HTTP handlers (request & response)
â”‚   â”œâ”€â”€ service/        # Business logic layer
â”‚   â”œâ”€â”€ repository/     # Database access layer (sqlc)
â”‚   â”œâ”€â”€ middleware/     # Authentication & middleware
â”‚   â””â”€â”€ config/         # Configuration & environment setup
â”œâ”€â”€ db/
â”‚   â”œâ”€â”€ migrations/     # Database migrations
â”‚   â””â”€â”€ query/          # SQL queries (sqlc)
â”œâ”€â”€ pkg/                # Shared helpers & utilities
â”œâ”€â”€ .env.example
â”œâ”€â”€ go.mod
â””â”€â”€ README.md
```

---

## ğŸ§© Database Schema (Simplified)

### users

* id (uuid)
* first_name
* last_name
* email
* password
* created_at

### categories

* id (uuid)
* user_id
* name
* type (income | expense)
* created_at

### transactions

* id (uuid)
* user_id
* category_id
* amount_cents
* note
* transaction_date (DATE)
* created_at

---

## ğŸ“Š Monthly Summary

This endpoint provides a monthly financial overview for a user.

**Example response:**

```json
[
  {
    "month": "2025-01",
    "total_income": 15000000,
    "total_expense": 8200000
  }
]
```

---

## ğŸ”Œ API Endpoints (Sample)

### Authentication

* `POST /api/v1/register`
* `POST /api/v1/login`

### Categories

* `POST /api/v1/categories`
* `GET /api/v1/categories`
* `DELETE /api/v1/categories/{id}`

### Transactions

* `POST /api/v1/transactions`
* `GET /api/v1/transactions`

### Summary

* `GET /api/v1/month-summary`

---

## âš™ï¸ How to Run the Project

### 1. Clone the Repository

```bash
git clone https://github.com/username/expense-tracker.git
cd expense-tracker
```

### 2. Configure Environment Variables

```bash
cp .env.example .env
```

Update the database configuration inside the `.env` file.

### 3. Run Database Migrations

```bash
migrate -path db/migrations -database "postgres://user:password@localhost:5432/dbname?sslmode=disable" up
```

### 4. Start the Server

```bash
go run cmd/main.go
```

The server will be available at:

```
http://localhost:8080
```

---

## âœ… Best Practices Applied

* Clear separation of concerns
* Context-aware request handling
* Strong typing using sqlc
* Proper error wrapping (`fmt.Errorf("%w")`)
* Monetary values stored using `amount_cents` to avoid floating-point errors

---

## ğŸ“Œ Notes

* All monetary values are stored in **cents** for accuracy
* Month formatting is handled from `time.Time` to `YYYY-MM` at the response layer

---

## ğŸ‘¨â€ğŸ’» Author

**Ilham Suryana**
Backend Developer (Golang)

---

## ğŸ“„ License

MIT License
